# 快速开始指南

## 运行项目

### 1. 安装依赖
```bash
flutter pub get
```

### 2. 生成代码（如果需要）
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### 3. 运行应用
```bash
# Android
flutter run

# iOS
flutter run -d ios

# Web
flutter run -d chrome
```

---

## 功能使用流程

### 登录
1. 启动应用后，如果没有登录会自动跳转到登录页面
2. 输入卡密
3. 点击"激活"按钮
4. 登录成功后进入主界面

### 单植物/装扮礼包
1. 在主界面点击"单植物/装扮礼包"卡片
2. 在搜索框输入植物或装扮名称（如"大嘴花"）
3. 从搜索结果中选择一个
4. 点击"生成礼包"按钮
5. 查看生成的兑换码
6. 点击"复制兑换码"按钮复制到剪贴板

### 多植物礼包
1. 在主界面点击"多植物礼包"卡片
2. 选择一个模式（20选16、16选8、10选5、40选3）
3. 在植物网格中点击选择植物（已选中的会有紫色边框）
4. 底部会显示已选择的植物和进度
5. 选够数量后，点击"生成礼包码"按钮
6. 查看生成结果
7. 点击"复制礼包码"按钮复制到剪贴板
8. 可以点击"重新选择植物"返回修改

### 多装扮礼包
1. 在主界面点击"多装扮礼包"卡片
2. 在装扮网格中点击选择装扮（已选中的会有紫色边框）
3. 可以选择任意数量（1-12个）
4. 底部会显示已选择的装扮
5. 点击"生成装扮礼包码"按钮
6. 查看生成结果
7. 点击"📋 复制礼包码"按钮复制到剪贴板
8. 可以点击"⬅️ 返回修改装扮"返回修改
9. 或点击"🔄 重新开始"返回主界面

---

## 界面说明

### 主界面
- 显示三个功能入口卡片
- 每个卡片都有图标、标题和描述
- 点击卡片进入对应功能

### 搜索界面（单植物/装扮）
- 顶部有搜索输入框
- 输入关键词后实时显示搜索结果
- 点击结果选择
- 选择后显示生成按钮

### 选择界面（多植物/多装扮）
- 网格布局展示所有可选项
- 点击卡片进行选择/取消选择
- 已选中的卡片有明显的视觉反馈
- 底部显示已选列表和生成按钮

### 结果界面
- 显示成功图标和提示
- 列出所有已选项目
- 显示完整的兑换码 JSON
- 提供复制按钮
- 提供返回/重新开始按钮

---

## 注意事项

1. **网络连接**: 确保设备能访问 API 服务器
2. **Token 有效期**: Token 过期后需要重新登录
3. **图片加载**: 首次加载图片可能需要一些时间
4. **选择限制**: 
   - 多植物模式有固定的选择数量要求
   - 多装扮可以任意选择数量
5. **复制功能**: 复制后会显示绿色/紫色的提示消息

---

## 常见问题

### Q: 搜索没有结果？
A: 检查输入的关键词是否正确，或者尝试输入更短的关键词

### Q: 无法生成兑换码？
A: 
- 检查网络连接
- 确认 Token 是否有效
- 查看是否选择了正确数量的植物/装扮

### Q: 图片显示不出来？
A: 
- 确认图片文件存在于 `assets/images/` 目录
- 检查图片文件名是否正确（plant_{id}.png 或 costume_{id}.jpg）
- 重新运行 `flutter pub get`

### Q: 复制按钮没反应？
A: 
- 在某些平台上可能需要权限
- 检查是否有错误提示
- 尝试手动选择文本复制

---

## 开发调试

### 查看日志
```bash
flutter logs
```

### 清理构建
```bash
flutter clean
flutter pub get
```

### 重新生成代码
```bash
flutter pub run build_runner build --delete-conflicting-outputs
```

### 检查代码问题
```bash
flutter analyze
```

---

## API 配置

在 `lib/config/constants.dart` 中修改 API 地址：

```dart
static const String apiBaseUrl = 'https://your-api-server.com/api';
```

---

**祝使用愉快！** 🎉
